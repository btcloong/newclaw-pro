# 2026-02-16 - NewClaw Project Log

## Project Status
Building "NewClaw" - AI news aggregation and research platform.

## Completed Today
- Repository: https://github.com/btcloong/newclaw-pro
- Live site: https://newclaw.com (deployed on 47.236.188.95)
- SSL certificate installed (valid until 2026-05-15)
- Implemented 117 RSS sources (79 English + 38 Chinese)
- Created AI processing system with batch processing and rate limiting
- Added Twitter feed with 48 high-quality AI accounts
- Set up GitHub Actions for auto-crawling (30 min intervals)
- File-based persistence for serverless compatibility
- Created static pages: about, privacy, terms, rss, api
- Completed incubator page with project showcase
- Created project detail pages (p1-p4)
- Built user system with auth, preferences, saved articles
- Built search system with TF-IDF and suggestions
- Fixed footer branding from "NewClaw Pro" to "NewClaw"

## Key Technical Decisions
- Memory storage instead of SQLite (avoid native module issues)
- Batch processing: 10 articles for scoring, 5 for summarization
- Rate limiting: 6 second intervals (max 10 req/minute to Gemini API)
- Content truncation: 300-500 characters per article
- Relative paths instead of @/ aliases (build stability)
- Root user for SSH deployment (SERVER_PASSWORD in GitHub Secrets)
- Admin user for app runtime (/home/admin/newclaw-pro)

## API Endpoints
- /api/crawl - Manual/auto crawl trigger
- /api/sources - Source statistics (exists at src/app/api/sources/route.ts)
- /api/twitter - Twitter feed
- /api/news - News list
- /api/search - Search with TF-IDF
- /api/search/suggestions - Search suggestions

## Issues Found
- /api/sources returns 404 - endpoint exists but not deployed to production yet
- GitHub Actions deployments failing - need SERVER_PASSWORD secret configured
- API endpoints returning 500 errors - server has old code

## Server Configuration
- IP: 47.236.188.95 (Alibaba Cloud)
- Root password: *A5+Vw+2fv6WjdT
- Deploy directory: /home/admin/newclaw-pro
- PM2 process: newclaw-pro
- Nginx: reverse proxy 80/443 â†’ 3000
- SSL: /etc/letsencrypt/live/newclaw.com/

## GitHub Secrets Required
- SERVER_HOST=47.236.188.95
- SERVER_USER=root
- SERVER_PASSWORD=*A5+Vw+2fv6WjdT
- GEMINI_API_KEY=AIzaSyAic3PWhq8eWyEKr_V41FqbJ_0MC_ZImAs
- API_KEY=newclaw_secret_key_2026

## Next Steps
1. Configure GitHub Secrets at https://github.com/btcloong/newclaw-pro/settings/secrets/actions
2. Trigger "Auto Deploy to Server" workflow manually
3. Verify https://newclaw.com/api/sources returns stats (not 404)
4. Trigger "Auto Crawl RSS Feeds" workflow to test automated collection
5. Continue Phase 2: email subscriptions, user login UI, mobile optimization
